{"ast":null,"code":"import jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { AdopcionPDF } from \"./AdopcionPDF\";\nimport { DatosGeneralesPDF } from \"./DatosGeneralesPDF\";\nimport { ExpedienteMedicoPDF } from \"./ExpedienteMedicoPDF\";\nimport { HogarTemporalPDF } from \"./HogarTemporalPDF\";\nimport { PictureFrame } from \"./Images/PictureFrame.js\";\nimport { LaikaLogo } from \"./Images/LaikaLogo.js\";\nimport \"./Raleway-Regular\";\nimport \"./Raleway-Bold\";\nimport { IconoDefault } from \"./Images/IconoDefault\";\nimport api from \"../../SharedComponents/APIConfig\";\nvar data = {\n  registroGeneral: {},\n  expedienteMedico: {},\n  hogarTemporal: {},\n  adopcion: {}\n};\n\nasync function fetchData(registro, id) {\n  var response = await fetch(api.url + \"/\" + registro + \"/?id=\" + id, {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  var json = await response.json();\n  return await json;\n}\n\nexport async function PDFGenerator(id, datosGenerales, expedienteMedico, hogarTemporal, adopcion) {\n  data.registroGeneral = await fetchData(\"registroGeneral\", id);\n\n  if (expedienteMedico) {\n    data.expedienteMedico = await fetchData(\"expedienteMedico\", id);\n  }\n\n  if (hogarTemporal) {\n    data.hogarTemporal = await fetchData(\"hogarTemporal\", id);\n  }\n\n  if (adopcion) {\n    data.adopcion = await fetchData(\"adopcion\", id);\n  }\n\n  var doc = new jsPDF(\"p\", \"mm\", [216, 279]);\n  doc.setProperties({\n    title: \"Expedientes LAIKA\"\n  });\n  doc.setFillColor(\"#51D1F6\");\n  doc.rect(0, 0, 2300, 20, \"F\");\n  doc.rect(0, 250, 2300, 40, \"F\");\n  doc.addImage(LaikaLogo, \"PNG\", 4, 2, 32, 18, \"\", \"FAST\");\n  doc.addImage(PictureFrame, \"PNG\", 53, 60, 115, 120, \"\", \"FAST\");\n\n  if (data.registroGeneral.foto) {\n    var buffer = Buffer.from(data.registroGeneral.foto.data);\n    doc.addImage(buffer.toString(\"utf-8\"), \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n  } else {\n    doc.addImage(IconoDefault, \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n  }\n\n  doc.setFont(\"Raleway-Regular\", \"normal\");\n  doc.setFontSize(20);\n  doc.text(\"ID: \" + id, 110, 190, {\n    align: \"center\"\n  });\n  doc.text(\"Nombre: \" + data.registroGeneral.nombre, 110, 200, {\n    align: \"center\"\n  });\n\n  if (datosGenerales) {\n    DatosGeneralesPDF(doc, data);\n  }\n\n  if (expedienteMedico) {\n    ExpedienteMedicoPDF(doc, data);\n  }\n\n  if (hogarTemporal) {\n    HogarTemporalPDF(doc, data);\n  }\n\n  if (adopcion) {\n    AdopcionPDF(doc, data);\n  }\n\n  var string = doc.output(\"datauristring\");\n  var embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\n  var x = window.open();\n  x.document.open();\n  x.document.write(embed);\n  x.document.close();\n}","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/SharedComponents/DocumentosPDF/DocumentoPDF.js"],"names":["jsPDF","AdopcionPDF","DatosGeneralesPDF","ExpedienteMedicoPDF","HogarTemporalPDF","PictureFrame","LaikaLogo","IconoDefault","api","data","registroGeneral","expedienteMedico","hogarTemporal","adopcion","fetchData","registro","id","response","fetch","url","method","headers","json","PDFGenerator","datosGenerales","doc","setProperties","title","setFillColor","rect","addImage","foto","buffer","Buffer","from","toString","setFont","setFontSize","text","align","nombre","string","output","embed","x","window","open","document","write","close"],"mappings":"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","sourcesContent":["import jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { AdopcionPDF } from \"./AdopcionPDF\";\nimport { DatosGeneralesPDF } from \"./DatosGeneralesPDF\";\nimport { ExpedienteMedicoPDF } from \"./ExpedienteMedicoPDF\";\nimport { HogarTemporalPDF } from \"./HogarTemporalPDF\";\nimport { PictureFrame } from \"./Images/PictureFrame.js\";\nimport { LaikaLogo } from \"./Images/LaikaLogo.js\";\nimport \"./Raleway-Regular\";\nimport \"./Raleway-Bold\";\nimport { IconoDefault } from \"./Images/IconoDefault\";\nimport api from \"../../SharedComponents/APIConfig\";\n\nvar data = {\n    registroGeneral: {},\n    expedienteMedico: {},\n    hogarTemporal: {},\n    adopcion: {},\n};\n\nasync function fetchData(registro, id) {\n    var response = await fetch(api.url + \"/\" + registro + \"/?id=\" + id, {\n        method: \"get\",\n        headers: { \"Content-Type\": \"application/json\" },\n    });\n    var json = await response.json();\n    return await json;\n}\n\nexport async function PDFGenerator(\n    id,\n    datosGenerales,\n    expedienteMedico,\n    hogarTemporal,\n    adopcion\n) {\n    data.registroGeneral = await fetchData(\"registroGeneral\", id);\n    if (expedienteMedico) {\n        data.expedienteMedico = await fetchData(\"expedienteMedico\", id);\n    }\n\n    if (hogarTemporal) {\n        data.hogarTemporal = await fetchData(\"hogarTemporal\", id);\n    }\n\n    if (adopcion) {\n        data.adopcion = await fetchData(\"adopcion\", id);\n    }\n    var doc = new jsPDF(\"p\", \"mm\", [216, 279]);\n\n    doc.setProperties({\n        title: \"Expedientes LAIKA\",\n    });\n\n    doc.setFillColor(\"#51D1F6\");\n    doc.rect(0, 0, 2300, 20, \"F\");\n    doc.rect(0, 250, 2300, 40, \"F\");\n\n    doc.addImage(LaikaLogo, \"PNG\", 4, 2, 32, 18, \"\", \"FAST\");\n    doc.addImage(PictureFrame, \"PNG\", 53, 60, 115, 120, \"\", \"FAST\");\n\n    if (data.registroGeneral.foto) {\n        var buffer = Buffer.from(data.registroGeneral.foto.data);\n        doc.addImage(\n            buffer.toString(\"utf-8\"),\n            \"JPEG\",\n            77,\n            83,\n            70,\n            74,\n            \"\",\n            \"FAST\"\n        );\n    } else {\n        doc.addImage(IconoDefault, \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n    }\n\n    doc.setFont(\"Raleway-Regular\", \"normal\");\n    doc.setFontSize(20);\n    doc.text(\"ID: \" + id, 110, 190, { align: \"center\" });\n    doc.text(\"Nombre: \" + data.registroGeneral.nombre, 110, 200, {\n        align: \"center\",\n    });\n\n    if (datosGenerales) {\n        DatosGeneralesPDF(doc, data);\n    }\n    if (expedienteMedico) {\n        ExpedienteMedicoPDF(doc, data);\n    }\n    if (hogarTemporal) {\n        HogarTemporalPDF(doc, data);\n    }\n    if (adopcion) {\n        AdopcionPDF(doc, data);\n    }\n\n    var string = doc.output(\"datauristring\");\n    var embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\n    var x = window.open();\n    x.document.open();\n    x.document.write(embed);\n    x.document.close();\n}\n"]},"metadata":{},"sourceType":"module"}