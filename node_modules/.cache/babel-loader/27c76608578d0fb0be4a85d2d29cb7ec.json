{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/RegistroGeneral/Subcomponents/ModalEliminar.js\";\nimport React, { useState } from \"react\";\nimport { Button, Icon, Modal } from \"semantic-ui-react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../../SharedComponents/APIConfig\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"close\":\n      return {\n        open: false\n      };\n\n    case \"close2\":\n      return {\n        open2: false\n      };\n\n    case \"open\":\n      return {\n        open: true,\n        size: action.size,\n        dimmer: action.dimmer\n      };\n\n    case \"open2\":\n      return {\n        open: false,\n        open2: true,\n        size: action.size,\n        dimmer: action.dimmer\n      };\n\n    default:\n      throw new Error(\"Unsupported action...\");\n  }\n}\n\nconst ModalExampleSize = props => {\n  const [state, dispatch] = React.useReducer(reducer, {\n    open: false,\n    size: undefined,\n    dimmer: undefined\n  });\n  const {\n    open,\n    open2,\n    size,\n    dimmer\n  } = state;\n  const [operationOutput, setOperationOutput] = useState(false);\n  const history = useHistory();\n\n  async function deleteAnimal(animalID) {\n    console.log(\"id animal\", animalID);\n    var response = await fetch(api.url + \"/eliminarAnimal\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        ID_Animal: animalID\n      })\n    });\n    if (response.status !== 200) return false;\n    return true;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"BotonGeneralEliminar BotonCentralEliminar\",\n    onClick: () => dispatch({\n      type: \"open\",\n      size: \"mini\",\n      dimmer: \"blurring\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Eliminar\", /*#__PURE__*/React.createElement(\"i\", {\n    \"aria-hidden\": \"true\",\n    className: \"fa fa-trash fa-fw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    dimmer: dimmer,\n    size: size,\n    open: open,\n    onClose: () => dispatch({\n      type: \"close\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Eliminar registros del animal\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"\\xBFEst\\xE1s seguro que deseas eliminar permanentamente los registros del animal?\")), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"red\",\n    inverted: true,\n    onClick: () => {\n      dispatch({\n        type: \"close\"\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }), \"No\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"green\",\n    inverted: true,\n    onClick: async () => {\n      dispatch({\n        type: \"open2\",\n        size: \"mini\",\n        dimmer: \"blurring\"\n      });\n      var success = await deleteAnimal(props.idAnimal);\n      setOperationOutput(success);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }), \"Yes\"))), /*#__PURE__*/React.createElement(Modal, {\n    dimmer: dimmer,\n    size: size,\n    open: open2,\n    onClose: () => dispatch({\n      type: \"close2\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Resultado de operacion\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \" \", operationOutput ? \"Animal eliminado exitosamente!\" : \"No se ha podido eliminar el animal.\", \" \")), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"blue\",\n    inverted: true,\n    onClick: () => {\n      dispatch({\n        type: \"close2\"\n      });\n\n      if (operationOutput) {\n        history.push('/Laika/Consulta/');\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }), \"Cerrar\"))));\n};\n\nexport default ModalExampleSize;","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/RegistroGeneral/Subcomponents/ModalEliminar.js"],"names":["React","useState","Button","Icon","Modal","useHistory","api","reducer","state","action","type","open","open2","size","dimmer","Error","ModalExampleSize","props","dispatch","useReducer","undefined","operationOutput","setOperationOutput","history","deleteAnimal","animalID","console","log","response","fetch","url","method","headers","body","JSON","stringify","ID_Animal","status","success","idAnimal","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Icon, Modal } from \"semantic-ui-react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../../SharedComponents/APIConfig\";\n\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"close\":\n            return { open: false };\n        case \"close2\":\n            return { open2: false };\n        case \"open\":\n            return { open: true, size: action.size, dimmer: action.dimmer };\n        case \"open2\":\n            return {\n                open: false,\n                open2: true,\n                size: action.size,\n                dimmer: action.dimmer,\n            };\n        default:\n            throw new Error(\"Unsupported action...\");\n    }\n}\n\nconst ModalExampleSize = (props) => {\n    const [state, dispatch] = React.useReducer(reducer, {\n        open: false,\n        size: undefined,\n        dimmer: undefined,\n    });\n    const { open, open2, size, dimmer } = state;\n\n    const [operationOutput, setOperationOutput] = useState(false);\n\n\tconst history = useHistory();\n\n\n    async function deleteAnimal(animalID) {\n        console.log(\"id animal\", animalID);\n        var response = await fetch(api.url+\"/eliminarAnimal\", {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ ID_Animal: animalID }),\n        });\n\n        if (response.status !== 200) return false;\n\n        return true;\n    }\n\n    return (\n        <>\n            <button\n                className=\"BotonGeneralEliminar BotonCentralEliminar\"\n                onClick={() =>\n                    dispatch({ type: \"open\", size: \"mini\", dimmer: \"blurring\" })\n                }\n            >\n                Eliminar\n                <i aria-hidden=\"true\" className=\"fa fa-trash fa-fw\"></i>\n            </button>\n\n            <Modal\n                dimmer={dimmer}\n                size={size}\n                open={open}\n                onClose={() => dispatch({ type: \"close\" })}\n            >\n                <Modal.Header>Eliminar registros del animal</Modal.Header>\n                <Modal.Content>\n                    <p>\n                        ¿Estás seguro que deseas eliminar permanentamente los\n                        registros del animal?\n                    </p>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button\n                        color=\"red\"\n                        inverted\n                        onClick={() => {\n                            dispatch({ type: \"close\" });\n                        }}\n                    >\n                        <Icon name=\"cancel\" />\n                        No\n                    </Button>\n                    <Button\n                        color=\"green\"\n                        inverted\n                        onClick={async () => {\n                            dispatch({\n                                type: \"open2\",\n                                size: \"mini\",\n                                dimmer: \"blurring\",\n                            });\n\n                            var success = await deleteAnimal(props.idAnimal);\n\n                            setOperationOutput(success);\n                        }}\n                    >\n                        <Icon name=\"checkmark\" />\n                        Yes\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n\n            <Modal\n                dimmer={dimmer}\n                size={size}\n                open={open2}\n                onClose={() => dispatch({ type: \"close2\" })}\n            >\n                <Modal.Header>Resultado de operacion</Modal.Header>\n                <Modal.Content>\n                    <p>\n                        {\" \"}\n                        {operationOutput\n                            ? \"Animal eliminado exitosamente!\"\n                            : \"No se ha podido eliminar el animal.\"}{\" \"}\n                    </p>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button\n                        color=\"blue\"\n                        inverted\n                        onClick={() => {\n                            dispatch({ type: \"close2\" });\n\t\t\t\t\t\t\tif (operationOutput) {\n\t\t\t\t\t\t\t\thistory.push('/Laika/Consulta/');\n\t\t\t\t\t\t\t}\n                        }}\n                    >\n                        <Icon name=\"cancel\" />\n                        Cerrar\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n        </>\n    );\n};\n\nexport default ModalExampleSize;\n"]},"metadata":{},"sourceType":"module"}