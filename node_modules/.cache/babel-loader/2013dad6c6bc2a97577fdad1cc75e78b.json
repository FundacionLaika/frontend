{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/Calendario/Calendario.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport moment from \"moment\";\nimport \"./Styles/Calendario.css\";\n\nrequire(\"moment/locale/es.js\");\n\nconst localizer = momentLocalizer(moment);\n\nasync function fetchEvents() {\n  var response = await fetch(\"https://fundacionlaika.herokuapp.com/events\", {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (response.status !== 200) return [];\n  var events = await response.json();\n  return events;\n}\n\nfunction generateEvent(message, animalId, animalName, date) {\n  const eventDate = new Date(date);\n  eventDate.setHours(12, 0, 0, 0);\n  const generatedEvent = {\n    title: message + animalName + \" (ID: \" + animalId + \")\",\n    start: eventDate,\n    end: eventDate\n  };\n  return generatedEvent;\n}\n\nfunction decodeEvents(encodedEvents) {\n  if (!encodedEvents) return;\n  const decoder = {\n    FechaRescate: \"Se rescato a \",\n    FechaEsterilizacion: \"Se esterilizo a \",\n    FechaInicioHT: \"Inicio de Hogar Temporal de \",\n    FechaFinalHT: \"Fin de Hogar Temporal de \",\n    VisitaAdopcion: \"Se realizo visita de adopcion a \",\n    FechaAdopcion: \"Se adopto a \",\n    FechaVacuna1: {\n      Canino: \"Puppy\",\n      Felino: \"Triple Viral Felina\",\n      Otro: \"Vacuna 1\"\n    },\n    FechaVacuna2: {\n      Canino: \"Refuerzo Puppy\",\n      Felino: \"Refuerzo Triple Viral Felina\",\n      Otro: \"Vacuna 2\"\n    },\n    FechaVacuna3: {\n      Canino: \"Multiple\",\n      Felino: \"Leucemia\",\n      Otro: \"Vacuna 3\"\n    },\n    FechaVacuna4: {\n      Canino: \"Refuerzo Multiple\",\n      Felino: \"Desparasitacion\",\n      Otro: \"Vacuna 4\"\n    },\n    FechaVacuna5: {\n      Canino: \"Rabia\",\n      Felino: \"Rabia\",\n      Otro: \"Vacuna 5\"\n    }\n  };\n  var eventsList = [];\n  encodedEvents.forEach(animal => {\n    const animalId = animal[\"ID_Animal\"];\n    const animalName = animal[\"Nombre\"];\n    const animalSpecie = animal[\"Especie\"];\n\n    for (const event in animal) {\n      const eventDate = animal[event];\n      if (!eventDate) continue;\n      if (event === \"ID_Animal\" || event === \"Nombre\" || event === \"Especie\") continue;\n\n      if (event.includes(\"FechaVacuna\")) {\n        if (!decoder[event]) continue;\n        const vacuna = decoder[event][animalSpecie];\n        const generatedEvent = generateEvent(\"Se aplico vacuna \" + vacuna + \" a \", animalId, animalName, eventDate);\n        eventsList.push(generatedEvent);\n      } else if (event === \"CitasMedicas\") {\n        const citasMedicas = eventDate.split(\",\");\n        citasMedicas.forEach(citaMedica => {\n          const generatedEvent = generateEvent(\"Cita medica de \", animalId, animalName, citaMedica);\n          eventsList.push(generatedEvent);\n          console.log(generatedEvent);\n        });\n      } else {\n        if (!decoder[event]) continue;\n        const generatedEvent = generateEvent(decoder[event], animalId, animalName, eventDate);\n        eventsList.push(generatedEvent);\n      }\n    }\n  });\n  return eventsList;\n}\n\nfunction Calendario(props) {\n  const [events, setEvents] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      const eventsData = await fetchEvents();\n      const eventList = decodeEvents(eventsData);\n      setEvents(eventList);\n    }\n\n    fetchData();\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calendarComponent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calendario bigCalendar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    popup: true,\n    localizer: localizer,\n    events: events,\n    defaultDate: new Date(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Calendario;","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/Calendario/Calendario.js"],"names":["React","useState","useEffect","Calendar","momentLocalizer","moment","require","localizer","fetchEvents","response","fetch","method","headers","status","events","json","generateEvent","message","animalId","animalName","date","eventDate","Date","setHours","generatedEvent","title","start","end","decodeEvents","encodedEvents","decoder","FechaRescate","FechaEsterilizacion","FechaInicioHT","FechaFinalHT","VisitaAdopcion","FechaAdopcion","FechaVacuna1","Canino","Felino","Otro","FechaVacuna2","FechaVacuna3","FechaVacuna4","FechaVacuna5","eventsList","forEach","animal","animalSpecie","event","includes","vacuna","push","citasMedicas","split","citaMedica","console","log","Calendario","props","setEvents","fetchData","eventsData","eventList"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AAEA,OAAO,mDAAP;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,yBAAP;;AAEAC,OAAO,CAAC,qBAAD,CAAP;;AAEA,MAAMC,SAAS,GAAGH,eAAe,CAACC,MAAD,CAAjC;;AAEA,eAAeG,WAAf,GAA6B;AAC5B,MAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6CAAD,EAAgD;AACzEC,IAAAA,MAAM,EAAE,KADiE;AAEzEC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AAFgE,GAAhD,CAA1B;AAKA,MAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B,OAAO,EAAP;AAC7B,MAAIC,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAnB;AAEA,SAAOD,MAAP;AACA;;AAED,SAASE,aAAT,CAAuBC,OAAvB,EAAgCC,QAAhC,EAA0CC,UAA1C,EAAsDC,IAAtD,EAA4D;AAC3D,QAAMC,SAAS,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAlB;AACAC,EAAAA,SAAS,CAACE,QAAV,CAAmB,EAAnB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B;AACA,QAAMC,cAAc,GAAG;AACtBC,IAAAA,KAAK,EAAER,OAAO,GAAGE,UAAV,GAAuB,QAAvB,GAAkCD,QAAlC,GAA6C,GAD9B;AAEtBQ,IAAAA,KAAK,EAAEL,SAFe;AAGtBM,IAAAA,GAAG,EAAEN;AAHiB,GAAvB;AAKA,SAAOG,cAAP;AACA;;AAED,SAASI,YAAT,CAAsBC,aAAtB,EAAqC;AACpC,MAAI,CAACA,aAAL,EAAoB;AAEpB,QAAMC,OAAO,GAAG;AACfC,IAAAA,YAAY,EAAE,eADC;AAEfC,IAAAA,mBAAmB,EAAE,kBAFN;AAGfC,IAAAA,aAAa,EAAE,8BAHA;AAIfC,IAAAA,YAAY,EAAE,2BAJC;AAKfC,IAAAA,cAAc,EAAE,kCALD;AAMfC,IAAAA,aAAa,EAAE,cANA;AAOfC,IAAAA,YAAY,EAAE;AACbC,MAAAA,MAAM,EAAE,OADK;AAEbC,MAAAA,MAAM,EAAE,qBAFK;AAGbC,MAAAA,IAAI,EAAE;AAHO,KAPC;AAYfC,IAAAA,YAAY,EAAE;AACbH,MAAAA,MAAM,EAAE,gBADK;AAEbC,MAAAA,MAAM,EAAE,8BAFK;AAGbC,MAAAA,IAAI,EAAE;AAHO,KAZC;AAiBfE,IAAAA,YAAY,EAAE;AACbJ,MAAAA,MAAM,EAAE,UADK;AAEbC,MAAAA,MAAM,EAAE,UAFK;AAGbC,MAAAA,IAAI,EAAE;AAHO,KAjBC;AAsBfG,IAAAA,YAAY,EAAE;AACbL,MAAAA,MAAM,EAAE,mBADK;AAEbC,MAAAA,MAAM,EAAE,iBAFK;AAGbC,MAAAA,IAAI,EAAE;AAHO,KAtBC;AA2BfI,IAAAA,YAAY,EAAE;AACbN,MAAAA,MAAM,EAAE,OADK;AAEbC,MAAAA,MAAM,EAAE,OAFK;AAGbC,MAAAA,IAAI,EAAE;AAHO;AA3BC,GAAhB;AAkCA,MAAIK,UAAU,GAAG,EAAjB;AAEAhB,EAAAA,aAAa,CAACiB,OAAd,CAAuBC,MAAD,IAAY;AACjC,UAAM7B,QAAQ,GAAG6B,MAAM,CAAC,WAAD,CAAvB;AACA,UAAM5B,UAAU,GAAG4B,MAAM,CAAC,QAAD,CAAzB;AACA,UAAMC,YAAY,GAAGD,MAAM,CAAC,SAAD,CAA3B;;AAEA,SAAK,MAAME,KAAX,IAAoBF,MAApB,EAA4B;AAC3B,YAAM1B,SAAS,GAAG0B,MAAM,CAACE,KAAD,CAAxB;AACA,UAAI,CAAC5B,SAAL,EAAgB;AAEhB,UACC4B,KAAK,KAAK,WAAV,IACAA,KAAK,KAAK,QADV,IAEAA,KAAK,KAAK,SAHX,EAKC;;AAED,UAAIA,KAAK,CAACC,QAAN,CAAe,aAAf,CAAJ,EAAmC;AAClC,YAAI,CAACpB,OAAO,CAACmB,KAAD,CAAZ,EAAqB;AAErB,cAAME,MAAM,GAAGrB,OAAO,CAACmB,KAAD,CAAP,CAAeD,YAAf,CAAf;AAEA,cAAMxB,cAAc,GAAGR,aAAa,CACnC,sBAAsBmC,MAAtB,GAA+B,KADI,EAEnCjC,QAFmC,EAGnCC,UAHmC,EAInCE,SAJmC,CAApC;AAMAwB,QAAAA,UAAU,CAACO,IAAX,CAAgB5B,cAAhB;AACA,OAZD,MAYO,IAAIyB,KAAK,KAAK,cAAd,EAA8B;AACpC,cAAMI,YAAY,GAAGhC,SAAS,CAACiC,KAAV,CAAgB,GAAhB,CAArB;AACAD,QAAAA,YAAY,CAACP,OAAb,CAAsBS,UAAD,IAAgB;AACpC,gBAAM/B,cAAc,GAAGR,aAAa,CACnC,iBADmC,EAEnCE,QAFmC,EAGnCC,UAHmC,EAInCoC,UAJmC,CAApC;AAMAV,UAAAA,UAAU,CAACO,IAAX,CAAgB5B,cAAhB;AACAgC,UAAAA,OAAO,CAACC,GAAR,CAAYjC,cAAZ;AACA,SATD;AAUA,OAZM,MAYA;AACN,YAAI,CAACM,OAAO,CAACmB,KAAD,CAAZ,EAAqB;AACrB,cAAMzB,cAAc,GAAGR,aAAa,CACnCc,OAAO,CAACmB,KAAD,CAD4B,EAEnC/B,QAFmC,EAGnCC,UAHmC,EAInCE,SAJmC,CAApC;AAMAwB,QAAAA,UAAU,CAACO,IAAX,CAAgB5B,cAAhB;AACA;AACD;AACD,GAnDD;AAqDA,SAAOqB,UAAP;AACA;;AAED,SAASa,UAAT,CAAoBC,KAApB,EAA2B;AAC1B,QAAM,CAAC7C,MAAD,EAAS8C,SAAT,IAAsB3D,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAe2D,SAAf,GAA2B;AAC1B,YAAMC,UAAU,GAAG,MAAMtD,WAAW,EAApC;AAEA,YAAMuD,SAAS,GAAGnC,YAAY,CAACkC,UAAD,CAA9B;AAEAF,MAAAA,SAAS,CAACG,SAAD,CAAT;AACA;;AACDF,IAAAA,SAAS;AACT,GATQ,EASN,CAACF,KAAD,CATM,CAAT;AAWA,sBACC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,QAAD;AACC,IAAA,KAAK,MADN;AAEC,IAAA,SAAS,EAAEpD,SAFZ;AAGC,IAAA,MAAM,EAAEO,MAHT;AAIC,IAAA,WAAW,EAAE,IAAIQ,IAAJ,EAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CADD;AAYA;;AAED,eAAeoC,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport moment from \"moment\";\n\nimport \"./Styles/Calendario.css\";\n\nrequire(\"moment/locale/es.js\");\n\nconst localizer = momentLocalizer(moment);\n\nasync function fetchEvents() {\n\tvar response = await fetch(\"https://fundacionlaika.herokuapp.com/events\", {\n\t\tmethod: \"get\",\n\t\theaders: { \"Content-Type\": \"application/json\" },\n\t});\n\n\tif (response.status !== 200) return [];\n\tvar events = await response.json();\n\n\treturn events;\n}\n\nfunction generateEvent(message, animalId, animalName, date) {\n\tconst eventDate = new Date(date);\n\teventDate.setHours(12,0,0,0);\n\tconst generatedEvent = {\n\t\ttitle: message + animalName + \" (ID: \" + animalId + \")\",\n\t\tstart: eventDate,\n\t\tend: eventDate,\n\t};\n\treturn generatedEvent;\n}\n\nfunction decodeEvents(encodedEvents) {\n\tif (!encodedEvents) return;\n\n\tconst decoder = {\n\t\tFechaRescate: \"Se rescato a \",\n\t\tFechaEsterilizacion: \"Se esterilizo a \",\n\t\tFechaInicioHT: \"Inicio de Hogar Temporal de \",\n\t\tFechaFinalHT: \"Fin de Hogar Temporal de \",\n\t\tVisitaAdopcion: \"Se realizo visita de adopcion a \",\n\t\tFechaAdopcion: \"Se adopto a \",\n\t\tFechaVacuna1: {\n\t\t\tCanino: \"Puppy\",\n\t\t\tFelino: \"Triple Viral Felina\",\n\t\t\tOtro: \"Vacuna 1\",\n\t\t},\n\t\tFechaVacuna2: {\n\t\t\tCanino: \"Refuerzo Puppy\",\n\t\t\tFelino: \"Refuerzo Triple Viral Felina\",\n\t\t\tOtro: \"Vacuna 2\",\n\t\t},\n\t\tFechaVacuna3: {\n\t\t\tCanino: \"Multiple\",\n\t\t\tFelino: \"Leucemia\",\n\t\t\tOtro: \"Vacuna 3\",\n\t\t},\n\t\tFechaVacuna4: {\n\t\t\tCanino: \"Refuerzo Multiple\",\n\t\t\tFelino: \"Desparasitacion\",\n\t\t\tOtro: \"Vacuna 4\",\n\t\t},\n\t\tFechaVacuna5: {\n\t\t\tCanino: \"Rabia\",\n\t\t\tFelino: \"Rabia\",\n\t\t\tOtro: \"Vacuna 5\",\n\t\t},\n\t};\n\n\tvar eventsList = [];\n\n\tencodedEvents.forEach((animal) => {\n\t\tconst animalId = animal[\"ID_Animal\"];\n\t\tconst animalName = animal[\"Nombre\"];\n\t\tconst animalSpecie = animal[\"Especie\"];\n\n\t\tfor (const event in animal) {\n\t\t\tconst eventDate = animal[event];\n\t\t\tif (!eventDate) continue;\n\n\t\t\tif (\n\t\t\t\tevent === \"ID_Animal\" ||\n\t\t\t\tevent === \"Nombre\" ||\n\t\t\t\tevent === \"Especie\"\n\t\t\t)\n\t\t\t\tcontinue;\n\n\t\t\tif (event.includes(\"FechaVacuna\")) {\n\t\t\t\tif (!decoder[event]) continue;\n\n\t\t\t\tconst vacuna = decoder[event][animalSpecie];\n\n\t\t\t\tconst generatedEvent = generateEvent(\n\t\t\t\t\t\"Se aplico vacuna \" + vacuna + \" a \",\n\t\t\t\t\tanimalId,\n\t\t\t\t\tanimalName,\n\t\t\t\t\teventDate\n\t\t\t\t);\n\t\t\t\teventsList.push(generatedEvent);\n\t\t\t} else if (event === \"CitasMedicas\") {\n\t\t\t\tconst citasMedicas = eventDate.split(\",\");\n\t\t\t\tcitasMedicas.forEach((citaMedica) => {\n\t\t\t\t\tconst generatedEvent = generateEvent(\n\t\t\t\t\t\t\"Cita medica de \",\n\t\t\t\t\t\tanimalId,\n\t\t\t\t\t\tanimalName,\n\t\t\t\t\t\tcitaMedica\n\t\t\t\t\t);\n\t\t\t\t\teventsList.push(generatedEvent);\n\t\t\t\t\tconsole.log(generatedEvent);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (!decoder[event]) continue;\n\t\t\t\tconst generatedEvent = generateEvent(\n\t\t\t\t\tdecoder[event],\n\t\t\t\t\tanimalId,\n\t\t\t\t\tanimalName,\n\t\t\t\t\teventDate\n\t\t\t\t);\n\t\t\t\teventsList.push(generatedEvent);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn eventsList;\n}\n\nfunction Calendario(props) {\n\tconst [events, setEvents] = useState([]);\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst eventsData = await fetchEvents();\n\n\t\t\tconst eventList = decodeEvents(eventsData);\n\n\t\t\tsetEvents(eventList);\n\t\t}\n\t\tfetchData();\n\t}, [props]);\n\n\treturn (\n\t\t<div className=\"calendarComponent\">\n\t\t\t<div className=\"calendario bigCalendar-container\">\n\t\t\t\t<Calendar\n\t\t\t\t\tpopup\n\t\t\t\t\tlocalizer={localizer}\n\t\t\t\t\tevents={events}\n\t\t\t\t\tdefaultDate={new Date()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Calendario;\n"]},"metadata":{},"sourceType":"module"}