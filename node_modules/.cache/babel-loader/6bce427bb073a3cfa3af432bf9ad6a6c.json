{"ast":null,"code":"import jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { AdopcionPDF } from \"./AdopcionPDF\";\nimport { DatosGeneralesPDF } from \"./DatosGeneralesPDF\";\nimport { ExpedienteMedicoPDF } from \"./ExpedienteMedicoPDF\";\nimport { HogarTemporalPDF } from \"./HogarTemporalPDF\";\nimport { PictureFrame } from \"./Images/PictureFrame.js\";\nimport { LaikaLogo } from \"./Images/LaikaLogo.js\";\nimport \"./Raleway-Regular\";\nimport \"./Raleway-Bold\";\nimport { IconoDefault } from \"./Images/IconoDefault\";\nvar data = {\n  registroGeneral: {},\n  expedienteMedico: {},\n  hogarTemporal: {},\n  adopcion: {}\n};\n\nasync function fetchData(registro, id) {\n  var response = await fetch(\"https://fundacionlaika.herokuapp.com/\" + registro + \"/?id=\" + id, {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  var json = await response.json();\n  return await json;\n}\n\nexport async function PDFGenerator(id, datosGenerales, expedienteMedico, hogarTemporal, adopcion) {\n  data.registroGeneral = await fetchData(\"registroGeneral\", id);\n\n  if (expedienteMedico) {\n    data.expedienteMedico = await fetchData(\"expedienteMedico\", id);\n  }\n\n  if (hogarTemporal) {\n    data.hogarTemporal = await fetchData(\"hogarTemporal\", id);\n  }\n\n  if (adopcion) {\n    data.adopcion = await fetchData(\"adopcion\", id);\n  }\n\n  var doc = new jsPDF(\"p\", \"mm\", [216, 279]);\n  doc.setProperties({\n    title: \"Expedientes LAIKA\"\n  });\n  doc.setFillColor(\"#51D1F6\");\n  doc.rect(0, 0, 2300, 20, \"F\");\n  doc.rect(0, 250, 2300, 40, \"F\");\n  doc.addImage(LaikaLogo, \"PNG\", 4, 2, 32, 18, \"\", \"FAST\");\n  doc.addImage(PictureFrame, \"PNG\", 53, 60, 115, 120, \"\", \"FAST\");\n\n  if (data.registroGeneral.foto) {\n    var buffer = Buffer.from(data.registroGeneral.foto.data);\n    doc.addImage(buffer.toString(\"utf-8\"), \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n  } else {\n    doc.addImage(IconoDefault, \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n  }\n\n  doc.setFont(\"Raleway-Regular\", \"normal\");\n  doc.setFontSize(20);\n  doc.text(\"ID: \" + id, 110, 190, {\n    align: \"center\"\n  });\n  doc.text(\"Nombre: \" + data.registroGeneral.nombre, 110, 200, {\n    align: \"center\"\n  });\n\n  if (datosGenerales) {\n    DatosGeneralesPDF(doc, data);\n  }\n\n  if (expedienteMedico) {\n    ExpedienteMedicoPDF(doc, data);\n  }\n\n  if (hogarTemporal) {\n    HogarTemporalPDF(doc, data);\n  }\n\n  if (adopcion) {\n    AdopcionPDF(doc, data);\n  }\n\n  var string = doc.output(\"datauristring\");\n  var embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\n  var x = window.open();\n  x.document.open();\n  x.document.write(embed);\n  x.document.close();\n}","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/SharedComponents/DocumentosPDF/DocumentoPDF.js"],"names":["jsPDF","AdopcionPDF","DatosGeneralesPDF","ExpedienteMedicoPDF","HogarTemporalPDF","PictureFrame","LaikaLogo","IconoDefault","data","registroGeneral","expedienteMedico","hogarTemporal","adopcion","fetchData","registro","id","response","fetch","method","headers","json","PDFGenerator","datosGenerales","doc","setProperties","title","setFillColor","rect","addImage","foto","buffer","Buffer","from","toString","setFont","setFontSize","text","align","nombre","string","output","embed","x","window","open","document","write","close"],"mappings":"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","sourcesContent":["import jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { AdopcionPDF } from \"./AdopcionPDF\";\nimport { DatosGeneralesPDF } from \"./DatosGeneralesPDF\";\nimport { ExpedienteMedicoPDF } from \"./ExpedienteMedicoPDF\";\nimport { HogarTemporalPDF } from \"./HogarTemporalPDF\";\nimport { PictureFrame } from \"./Images/PictureFrame.js\";\nimport { LaikaLogo } from \"./Images/LaikaLogo.js\";\nimport \"./Raleway-Regular\";\nimport \"./Raleway-Bold\";\nimport { IconoDefault } from \"./Images/IconoDefault\";\n\nvar data = {\n\tregistroGeneral: {},\n\texpedienteMedico: {},\n\thogarTemporal: {},\n\tadopcion: {},\n};\n\nasync function fetchData(registro, id) {\n\tvar response = await fetch(\n\t\t\"https://fundacionlaika.herokuapp.com/\" + registro + \"/?id=\" + id,\n\t\t{\n\t\t\tmethod: \"get\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t}\n\t);\n\tvar json = await response.json();\n\treturn await json;\n}\n\nexport async function PDFGenerator(\n\tid,\n\tdatosGenerales,\n\texpedienteMedico,\n\thogarTemporal,\n\tadopcion\n) {\n\tdata.registroGeneral = await fetchData(\"registroGeneral\", id);\n\tif (expedienteMedico) {\n\t\tdata.expedienteMedico = await fetchData(\"expedienteMedico\", id);\n\t}\n\n\tif (hogarTemporal) {\n\t\tdata.hogarTemporal = await fetchData(\"hogarTemporal\", id);\n\t}\n\n\tif (adopcion) {\n\t\tdata.adopcion = await fetchData(\"adopcion\", id);\n\t}\n\tvar doc = new jsPDF(\"p\", \"mm\", [216, 279]);\n\n\tdoc.setProperties({\n\t\ttitle: \"Expedientes LAIKA\",\n\t});\n\n\tdoc.setFillColor(\"#51D1F6\");\n\tdoc.rect(0, 0, 2300, 20, \"F\");\n\tdoc.rect(0, 250, 2300, 40, \"F\");\n\n\tdoc.addImage(LaikaLogo, \"PNG\", 4, 2, 32, 18, \"\", \"FAST\");\n\tdoc.addImage(PictureFrame, \"PNG\", 53, 60, 115, 120, \"\", \"FAST\");\n\n\tif(data.registroGeneral.foto) {\n\t\tvar buffer = Buffer.from(data.registroGeneral.foto.data);\n\t\tdoc.addImage(buffer.toString(\"utf-8\"), \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n\t} else {\n\t\tdoc.addImage(IconoDefault, \"JPEG\", 77, 83, 70, 74, \"\", \"FAST\");\n\t}\n\t\n\tdoc.setFont(\"Raleway-Regular\", \"normal\");\t\n\tdoc.setFontSize(20);\n\tdoc.text(\"ID: \" + id, 110, 190, { align: \"center\" });\n\tdoc.text(\"Nombre: \" + data.registroGeneral.nombre, 110, 200, {\n\t\talign: \"center\",\n\t});\n\n\tif (datosGenerales) {\n\t\tDatosGeneralesPDF(doc, data);\n\t}\n\tif (expedienteMedico) {\n\t\tExpedienteMedicoPDF(doc, data);\n\t}\n\tif (hogarTemporal) {\n\t\tHogarTemporalPDF(doc, data);\n\t}\n\tif (adopcion) {\n\t\tAdopcionPDF(doc, data);\n\t}\n\n\tvar string = doc.output(\"datauristring\");\n\tvar embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\n\tvar x = window.open();\n\tx.document.open();\n\tx.document.write(embed);\n\tx.document.close();\n}\n"]},"metadata":{},"sourceType":"module"}