{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/MenuUsuario.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Styles/MenuUsuario.css\";\nimport { withRouter } from \"react-router-dom\";\nimport UserInfo from \"./Subcomponents/UserInfo\";\nimport SecurityInfo from \"./Subcomponents/SecurityInfo\";\nimport AdminInfo from \"./Subcomponents/AdminInfo\";\nimport api from \"../SharedComponents/APIConfig\";\n\nasync function fetchUser(ID_Usuario) {\n  var response = await fetch(api.url + \"/usuario\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ID_Usuario\n    })\n  });\n  if (response.status !== 200) return null;\n  var json = await response.json();\n  return json;\n}\n\nfunction MenuUsuario(props) {\n  const [state, setState] = useState({\n    nombre: \"\",\n    apellidos: \"\",\n    correo: \"\",\n    telefono: \"\",\n    rol: \"\",\n    foto: null\n  });\n  const [borderState, setBorderState] = useState({\n    btnGeneral: \"3px solid #00acee\",\n    btnSeguridad: \"\",\n    btnAdmin: \"\"\n  });\n  const [foregroundState, setForegroundState] = useState({\n    btnGeneral: \"#000\",\n    btnSeguridad: \"\",\n    btnAdmin: \"\"\n  });\n  const history = useHistory();\n\n  function logoutSession() {\n    sessionStorage.clear();\n    window.location.reload();\n    history.push(\"/\");\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      const userData = await fetchUser(props.ID_Usuario);\n      if (!userData) return;\n      var foto = null;\n\n      if (userData && userData.Foto) {\n        var buffer = Buffer.from(userData.Foto.data);\n        foto = buffer.toString(\"utf8\");\n      }\n\n      setState({\n        nombre: userData.Nombre,\n        apellidos: userData.Apellidos,\n        correo: userData.Correo,\n        telefono: userData.Telefono,\n        rol: userData.Rol,\n        foto: foto\n      });\n    }\n\n    fetchData();\n  }, [props]);\n\n  function handleClick(name) {\n    setBorderState({\n      [name]: \"3px solid #00acee\"\n    });\n    setForegroundState({\n      [name]: \"#000\"\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menuUsuarioContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnGeneral\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnGeneral\n    },\n    className: \"fa fa-address-card fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnGeneral,\n      color: foregroundState.btnGeneral\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"General\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnSeguridad\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnSeguridad\n    },\n    className: \"fa fa-lock fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnSeguridad,\n      color: foregroundState.btnSeguridad\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Seguridad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }))), state.rol === \"Administrador\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnAdmin\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnAdmin\n    },\n    className: \"fa fa-address-book fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnAdmin,\n      color: foregroundState.btnAdmin\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Administraci\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock btnLogout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: \"red\"\n    },\n    className: \"fa fa-sign-out fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      color: \"red\"\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Log out\",\n    onClick: logoutSession,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dataUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, foregroundState.btnGeneral && /*#__PURE__*/React.createElement(UserInfo, {\n    ID_Usuario: props.ID_Usuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }), foregroundState.btnSeguridad && /*#__PURE__*/React.createElement(SecurityInfo, {\n    ID_Usuario: props.ID_Usuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }), foregroundState.btnAdmin && /*#__PURE__*/React.createElement(AdminInfo, {\n    ID_Usuario: props.ID_Usuario,\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  })));\n}\n\nexport default withRouter(MenuUsuario);","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/MenuUsuario.js"],"names":["React","useState","useEffect","useHistory","withRouter","UserInfo","SecurityInfo","AdminInfo","api","fetchUser","ID_Usuario","response","fetch","url","method","headers","body","JSON","stringify","status","json","MenuUsuario","props","state","setState","nombre","apellidos","correo","telefono","rol","foto","borderState","setBorderState","btnGeneral","btnSeguridad","btnAdmin","foregroundState","setForegroundState","history","logoutSession","sessionStorage","clear","window","location","reload","push","fetchData","userData","Foto","buffer","Buffer","from","data","toString","Nombre","Apellidos","Correo","Telefono","Rol","handleClick","name","color","borderRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Styles/MenuUsuario.css\";\nimport { withRouter } from \"react-router-dom\";\nimport UserInfo from \"./Subcomponents/UserInfo\";\nimport SecurityInfo from \"./Subcomponents/SecurityInfo\";\nimport AdminInfo from \"./Subcomponents/AdminInfo\";\nimport api from \"../SharedComponents/APIConfig\";\n\nasync function fetchUser(ID_Usuario) {\n    var response = await fetch(api.url + \"/usuario\", {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ID_Usuario }),\n    });\n\n    if (response.status !== 200) return null;\n    var json = await response.json();\n\n    return json;\n}\n\nfunction MenuUsuario(props) {\n    const [state, setState] = useState({\n        nombre: \"\",\n        apellidos: \"\",\n        correo: \"\",\n        telefono: \"\",\n        rol: \"\",\n        foto: null,\n    });\n\n    const [borderState, setBorderState] = useState({\n        btnGeneral: \"3px solid #00acee\",\n        btnSeguridad: \"\",\n        btnAdmin: \"\",\n    });\n\n    const [foregroundState, setForegroundState] = useState({\n        btnGeneral: \"#000\",\n        btnSeguridad: \"\",\n        btnAdmin: \"\",\n    });\n\n    const history = useHistory();\n\n    function logoutSession() {\n        sessionStorage.clear();\n        window.location.reload();\n        history.push(\"/\");\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            const userData = await fetchUser(props.ID_Usuario);\n            if (!userData) return;\n\n            var foto = null;\n            if (userData && userData.Foto) {\n                var buffer = Buffer.from(userData.Foto.data);\n                foto = buffer.toString(\"utf8\");\n            }\n\n            setState({\n                nombre: userData.Nombre,\n                apellidos: userData.Apellidos,\n                correo: userData.Correo,\n                telefono: userData.Telefono,\n                rol: userData.Rol,\n                foto: foto,\n            });\n        }\n        fetchData();\n    }, [props]);\n\n    function handleClick(name) {\n        setBorderState({ [name]: \"3px solid #00acee\" });\n        setForegroundState({ [name]: \"#000\" });\n    }\n\n    return (\n        <div className=\"menuUsuarioContainer\">\n            <div className=\"sideBarContainer\">\n                <div\n                    className=\"sideBarBlock\"\n                    onClick={() => {\n                        handleClick(\"btnGeneral\");\n                    }}\n                >\n                    <div className=\"sideBarIcon\">\n                        <i\n                            style={{ color: foregroundState.btnGeneral }}\n                            className=\"fa fa-address-card fa-2x iconUsuario\"\n                        ></i>\n                    </div>\n                    <div className=\"sideBarBtn\">\n                        <input\n                            autoComplete=\"off\"\n                            style={{\n                                borderRight: borderState.btnGeneral,\n                                color: foregroundState.btnGeneral,\n                            }}\n                            type=\"button\"\n                            className=\"btnMenuUsuario\"\n                            value=\"General\"\n                        />\n                    </div>\n                </div>\n\n                <div\n                    className=\"sideBarBlock\"\n                    onClick={() => {\n                        handleClick(\"btnSeguridad\");\n                    }}\n                >\n                    <div className=\"sideBarIcon\">\n                        <i\n                            style={{ color: foregroundState.btnSeguridad }}\n                            className=\"fa fa-lock fa-2x iconUsuario\"\n                        ></i>\n                    </div>\n                    <div className=\"sideBarBtn\">\n                        <input\n                            autoComplete=\"off\"\n                            style={{\n                                borderRight: borderState.btnSeguridad,\n                                color: foregroundState.btnSeguridad,\n                            }}\n                            type=\"button\"\n                            className=\"btnMenuUsuario\"\n                            value=\"Seguridad\"\n                        />\n                    </div>\n                </div>\n\n                {state.rol === \"Administrador\" ? (\n                    <div\n                        className=\"sideBarBlock\"\n                        onClick={() => {\n                            handleClick(\"btnAdmin\");\n                        }}\n                    >\n                        <div className=\"sideBarIcon\">\n                            <i\n                                style={{ color: foregroundState.btnAdmin }}\n                                className=\"fa fa-address-book fa-2x iconUsuario\"\n                            ></i>\n                        </div>\n                        <div className=\"sideBarBtn\">\n                            <input\n                                autoComplete=\"off\"\n                                style={{\n                                    borderRight: borderState.btnAdmin,\n                                    color: foregroundState.btnAdmin,\n                                }}\n                                type=\"button\"\n                                className=\"btnMenuUsuario\"\n                                value=\"Administración\"\n                            />\n                        </div>\n                    </div>\n                ) : null}\n\n                <div className=\"sideBarBlock btnLogout\">\n                    <div className=\"sideBarIcon\">\n                        <i\n                            style={{ color: \"red\" }}\n                            className=\"fa fa-sign-out fa-2x iconUsuario\"\n                        ></i>\n                    </div>\n                    <div className=\"sideBarBtn\">\n                        <input\n                            autoComplete=\"off\"\n                            style={{ color: \"red\" }}\n                            type=\"button\"\n                            className=\"btnMenuUsuario\"\n                            value=\"Log out\"\n                            onClick={logoutSession}\n                        />\n                    </div>\n                </div>\n            </div>\n            <div className=\"dataUsuario\">\n                {foregroundState.btnGeneral && (\n                    <UserInfo ID_Usuario={props.ID_Usuario} />\n                )}\n                {foregroundState.btnSeguridad && (\n                    <SecurityInfo ID_Usuario={props.ID_Usuario} />\n                )}\n                {foregroundState.btnAdmin && (\n                    <AdminInfo ID_Usuario={props.ID_Usuario} state={state} />\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default withRouter(MenuUsuario);\n"]},"metadata":{},"sourceType":"module"}