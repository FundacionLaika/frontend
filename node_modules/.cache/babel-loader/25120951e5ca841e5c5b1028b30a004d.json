{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/Subcomponents/ModalAdmin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../Styles/UserCard.css\";\nimport { Button, Modal, Icon, Dropdown, Header, Input } from \"semantic-ui-react\";\nimport \"../Styles/ModalAdmin.css\";\nimport FotoUsuarioModal from \"./FotoUsuarioModal\";\n\nasync function fetchUser(userID) {\n  var response = await fetch(api.url + \"/usuario\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ID_Usuario: userID\n    })\n  });\n  if (response.status !== 200) return null;\n  var user = await response.json();\n\n  if (user.Foto) {\n    const buffer = Buffer.from(user.Foto.data);\n    const foto = buffer.toString(\"utf8\");\n    user.Foto = foto;\n  }\n\n  return user;\n}\n\nasync function updateUser(userID, userData, modifyUser) {\n  var response = await fetch(api.url + \"/usuario\", {\n    method: \"put\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ID_Usuario: userID,\n      ...userData\n    })\n  });\n  if (response.status !== 200) return false;\n  modifyUser({\n    ID_Usuario: userID,\n    ...userData\n  });\n  return true;\n}\n\nasync function createUser(userData, addUser) {\n  var response = await fetch(api.url + \"/signup\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(userData)\n  });\n  if (response.status !== 200) return false;\n  var userID = await response.json();\n  userID = userID[0];\n  addUser({\n    ID_Usuario: userID,\n    ...userData\n  });\n  return true;\n}\n\nfunction validateData(data) {\n  return data ? data : \"\";\n}\n\nfunction ModalAdmin(props) {\n  const [state, setState] = React.useState({\n    open: true,\n    dimmer: \"blurring\"\n  });\n  const {\n    open,\n    dimmer\n  } = state;\n  const [secondOpen, setSecondOpen] = React.useState(false);\n  const [message, setMessage] = React.useState(\"\");\n  const [success, setSuccess] = React.useState(true);\n  const [stateUser, setStateUser] = useState({\n    nombre: \"\",\n    apellidos: \"\",\n    correo: \"\",\n    telefono: \"\",\n    rol: \"\",\n    contrasena: \"\",\n    foto: null\n  });\n\n  function validateEmail(email) {\n    const re = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n    return re.test(email);\n  }\n\n  function handleChange(event) {\n    setStateUser({ ...stateUser,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleSelect(event, data) {\n    setStateUser({ ...stateUser,\n      rol: data.value\n    });\n  }\n\n  useEffect(() => {\n    if (!props.userID) return;\n\n    async function fetchData() {\n      const userData = await fetchUser(props.userID);\n      setStateUser({\n        nombre: validateData(userData.Nombre),\n        apellidos: validateData(userData.Apellidos),\n        correo: validateData(userData.Correo),\n        telefono: validateData(userData.Telefono),\n        rol: validateData(userData.Rol),\n        contrasena: validateData(userData.CONTRASENA),\n        foto: userData.Foto\n      });\n    }\n\n    fetchData();\n  }, [props]);\n  const rolesOptions = [{\n    key: \"Voluntario\",\n    value: \"Voluntario\",\n    text: \"Voluntario\"\n  }, {\n    key: \"Administrador\",\n    value: \"Administrador\",\n    text: \"Administrador\"\n  }];\n\n  function handleRestablecer() {\n    setStateUser({\n      nombre: \"\",\n      apellidos: \"\",\n      correo: \"\",\n      telefono: \"\",\n      rol: \"\",\n      contrasena: \"\",\n      foto: null\n    });\n  }\n\n  function imageHandler(event) {\n    try {\n      const reader = new FileReader();\n      const foto = event.target.id;\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          setStateUser({ ...stateUser,\n            [foto]: reader.result\n          });\n        }\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n    } catch (error) {}\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    dimmer: dimmer,\n    open: open,\n    onClose: () => {\n      props.closeModal();\n      setState({\n        open: false\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, \"Resgistrar usuario\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    image: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FotoUsuarioModal, {\n    id: \"foto\",\n    imageHandler: imageHandler,\n    foto: stateUser.foto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Description, {\n    className: \"descriptionRG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    style: {\n      marginLeft: \"10.5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"Datos de usuario\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerUserRG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block1RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    size: \"large\",\n    icon: \"address card\",\n    iconPosition: \"left\",\n    placeholder: \"Nombre\",\n    name: \"nombre\",\n    onChange: handleChange,\n    value: stateUser.nombre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block2RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    size: \"large\",\n    icon: \"address book\",\n    iconPosition: \"left\",\n    placeholder: \"Apellidos\",\n    name: \"apellidos\",\n    onChange: handleChange,\n    value: stateUser.apellidos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block1RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    size: \"large\",\n    icon: \"envelope\",\n    iconPosition: \"left\",\n    placeholder: \"Correo\",\n    name: \"correo\",\n    onChange: handleChange,\n    value: stateUser.correo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block2RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    size: \"large\",\n    icon: \"call\",\n    iconPosition: \"left\",\n    placeholder: \"Tel\\xE9fono\",\n    name: \"telefono\",\n    onChange: handleChange,\n    value: stateUser.telefono,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockModal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block1RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    style: {\n      width: \"78.5%\",\n      height: \"97%\"\n    },\n    button: true,\n    name: \"rol\",\n    selection: true,\n    className: \"icon selectRol\",\n    labeled: true,\n    icon: \"group\",\n    options: rolesOptions,\n    placeholder: \"Rol\",\n    onChange: handleSelect,\n    value: stateUser.rol,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block2RG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    size: \"large\",\n    icon: \"key\",\n    iconPosition: \"left\",\n    placeholder: \"Contrase\\xF1a\",\n    name: \"contrasena\",\n    onChange: handleChange,\n    value: stateUser.contrasena,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  })))))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      borderRadius: \"0.4rem\",\n      margin: \"0% 2% 0% 0%\"\n    },\n    color: \"red\",\n    inverted: true,\n    onClick: () => {\n      props.closeModal();\n      setState({\n        open: false\n      });\n      handleRestablecer();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }), \" Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      borderRadius: \"0.4rem\",\n      margin: \"0% 1% 0% 0%\"\n    },\n    color: \"green\",\n    inverted: true,\n    onClick: async () => {\n      if (stateUser.nombre && stateUser.apellidos && stateUser.correo && stateUser.telefono && stateUser.rol && stateUser.contrasena) {\n        if (!validateEmail(stateUser.correo)) {\n          setMessage(\"El correo ingresado no es correcto\");\n          setSuccess(false);\n        } else {\n          var success;\n\n          if (props.userID) {\n            success = await updateUser(props.userID, stateUser, props.modifyUser);\n            setSuccess(success);\n\n            if (success) {\n              setMessage(\"Actualizacion de datos del usuario exitosa!\");\n            } else {\n              setMessage(\"Ha ocurrido un error al actualizar el usuario! Verifique que el correo sea unico.\");\n            }\n          } else {\n            success = await createUser(stateUser, props.addUser);\n            setSuccess(success);\n\n            if (success) {\n              setMessage(\"Se ha creado el usuario de manera exitosa!\");\n            } else {\n              setMessage(\"Ha ocurrido un error al crear el usuario! Verifique que el correo sea unico.\");\n            }\n          }\n        } // Funcion de insertar nuevo usuario\n\n      } else {\n        setMessage(\"Debe llenar todos los campos para que el registro sea exitoso\");\n        setSuccess(false);\n      }\n\n      setSecondOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 25\n    }\n  }), \" \", props.userID ? \"Guardar\" : \"Registrar\")), /*#__PURE__*/React.createElement(Modal, {\n    onClose: () => setSecondOpen(false),\n    open: secondOpen,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, \"Registro de usuario\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 25\n    }\n  }, message)), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      borderRadius: \"0.4rem\",\n      margin: \"0% 2% 0% 0%\"\n    },\n    color: \"red\",\n    inverted: true,\n    onClick: () => {\n      setSecondOpen(false);\n\n      if (success) {\n        handleRestablecer();\n        setState({\n          open: false\n        });\n        props.closeModal();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 29\n    }\n  }), \" Cerrar\")))));\n}\n\nexport default ModalAdmin;","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/Subcomponents/ModalAdmin.js"],"names":["React","useState","useEffect","Button","Modal","Icon","Dropdown","Header","Input","FotoUsuarioModal","fetchUser","userID","response","fetch","api","url","method","headers","body","JSON","stringify","ID_Usuario","status","user","json","Foto","buffer","Buffer","from","data","foto","toString","updateUser","userData","modifyUser","createUser","addUser","validateData","ModalAdmin","props","state","setState","open","dimmer","secondOpen","setSecondOpen","message","setMessage","success","setSuccess","stateUser","setStateUser","nombre","apellidos","correo","telefono","rol","contrasena","validateEmail","email","re","RegExp","test","handleChange","event","target","name","value","handleSelect","fetchData","Nombre","Apellidos","Correo","Telefono","Rol","CONTRASENA","rolesOptions","key","text","handleRestablecer","imageHandler","reader","FileReader","id","onload","readyState","result","readAsDataURL","files","error","closeModal","marginLeft","width","height","borderRadius","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../Styles/UserCard.css\";\n\nimport {\n    Button,\n    Modal,\n    Icon,\n    Dropdown,\n    Header,\n    Input,\n} from \"semantic-ui-react\";\nimport \"../Styles/ModalAdmin.css\";\nimport FotoUsuarioModal from \"./FotoUsuarioModal\";\n\nasync function fetchUser(userID) {\n    var response = await fetch(api.url+\"/usuario\", {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ID_Usuario: userID }),\n    });\n\n    if (response.status !== 200) return null;\n    var user = await response.json();\n\n    if (user.Foto) {\n        const buffer = Buffer.from(user.Foto.data);\n        const foto = buffer.toString(\"utf8\");\n        user.Foto = foto;\n    }\n    return user;\n}\n\nasync function updateUser(userID, userData, modifyUser) {\n    var response = await fetch(api.url+\"/usuario\", {\n        method: \"put\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ID_Usuario: userID, ...userData }),\n    });\n\n    if (response.status !== 200) return false;\n\n    modifyUser({ ID_Usuario: userID, ...userData });\n    return true;\n}\n\nasync function createUser(userData, addUser) {\n    var response = await fetch(api.url+\"/signup\", {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(userData),\n    });\n\n    if (response.status !== 200) return false;\n\n    var userID = await response.json();\n    userID = userID[0];\n    addUser({ ID_Usuario: userID, ...userData });\n    return true;\n}\n\nfunction validateData(data) {\n    return data ? data : \"\";\n}\n\nfunction ModalAdmin(props) {\n    const [state, setState] = React.useState({\n        open: true,\n        dimmer: \"blurring\",\n    });\n\n    const { open, dimmer } = state;\n\n    const [secondOpen, setSecondOpen] = React.useState(false);\n\n\tconst [message, setMessage] = React.useState(\"\");\n\t\n\tconst [success, setSuccess] = React.useState(true);\n\n   const [stateUser, setStateUser] = useState({\n        nombre: \"\",\n        apellidos: \"\",\n        correo: \"\",\n        telefono: \"\",\n        rol: \"\",\n        contrasena: \"\",\n        foto: null,\n    });\n\n    function validateEmail(email) {\n        const re = new RegExp(\n            /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n        );\n        return re.test(email);\n    }\n\n    function handleChange(event) {\n        setStateUser({ ...stateUser, [event.target.name]: event.target.value });\n    }\n\n    function handleSelect(event, data) {\n        setStateUser({ ...stateUser, rol: data.value });\n    }\n\n    useEffect(() => {           \n        if (!props.userID) return;\n        async function fetchData() {\n            const userData = await fetchUser(props.userID);\n            setStateUser({\n                nombre: validateData(userData.Nombre),\n                apellidos: validateData(userData.Apellidos),\n                correo: validateData(userData.Correo),\n                telefono: validateData(userData.Telefono),\n                rol: validateData(userData.Rol),\n                contrasena: validateData(userData.CONTRASENA),\n                foto: userData.Foto,\n            });\n        }\n        fetchData();\n    }, [props]);\n\n    const rolesOptions = [\n        { key: \"Voluntario\", value: \"Voluntario\", text: \"Voluntario\" },\n        { key: \"Administrador\", value: \"Administrador\", text: \"Administrador\" },\n    ];\n\n    function handleRestablecer() {\n        setStateUser({\n            nombre: \"\",\n            apellidos: \"\",\n            correo: \"\",\n            telefono: \"\",\n            rol: \"\",\n            contrasena: \"\",\n            foto: null,\n        });\n    }\n\n    function imageHandler(event) {\n        try {\n            const reader = new FileReader();\n            const foto = event.target.id;\n\n            reader.onload = () => {\n                if (reader.readyState === 2) {\n                    setStateUser({ ...stateUser, [foto]: reader.result });\n                }\n            };\n            reader.readAsDataURL(event.target.files[0]);\n        } catch (error) {}\n    }\n\n    return (\n        <div>\n            <Modal\n                dimmer={dimmer}\n                open={open}\n                onClose={() => {\n                    props.closeModal();\n                    setState({ open: false });\n                }}\n            >\n                <Modal.Header>Resgistrar usuario</Modal.Header>\n                <Modal.Content image>\n                    <FotoUsuarioModal\n                        id=\"foto\"\n                        imageHandler={imageHandler}\n                        foto={stateUser.foto}\n                    />\n                    <Modal.Description className=\"descriptionRG\">\n                        <Header style={{ marginLeft: \"10.5%\" }}>\n                            Datos de usuario\n                        </Header>\n                        <div className=\"containerUserRG\">\n                            <div className=\"blockModal\">\n                                <div className=\"block1RG\">\n                                    <Input autoComplete=\"off\"\n                                        size=\"large\"\n                                        icon=\"address card\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Nombre\"\n                                        name=\"nombre\"\n                                        onChange={handleChange}\n                                        value={stateUser.nombre}\n                                    />\n                                </div>\n                                <div className=\"block2RG\">\n                                    <Input autoComplete=\"off\"\n                                        size=\"large\"\n                                        icon=\"address book\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Apellidos\"\n                                        name=\"apellidos\"\n                                        onChange={handleChange}\n                                        value={stateUser.apellidos}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"blockModal\">\n                                <div className=\"block1RG\">\n                                    <Input autoComplete=\"off\"\n                                        size=\"large\"\n                                        icon=\"envelope\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Correo\"\n                                        name=\"correo\"\n                                        onChange={handleChange}\n                                        value={stateUser.correo}\n                                    />\n                                </div>\n                                <div className=\"block2RG\">\n                                    <Input autoComplete=\"off\"\n                                        size=\"large\"\n                                        icon=\"call\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Teléfono\"\n                                        name=\"telefono\"\n                                        onChange={handleChange}\n                                        value={stateUser.telefono}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"blockModal\">\n                                <div className=\"block1RG\">\n                                    <Dropdown\n                                        style={{\n                                            width: \"78.5%\",\n                                            height: \"97%\",\n                                        }}\n                                        button\n                                        name=\"rol\"\n                                        selection\n                                        className=\"icon selectRol\"\n                                        labeled\n                                        icon=\"group\"\n                                        options={rolesOptions}\n                                        placeholder=\"Rol\"\n                                        onChange={handleSelect}\n                                        value={stateUser.rol}\n                                    />\n                                </div>\n                                <div className=\"block2RG\">\n                                    <Input autoComplete=\"off\"\n                                        size=\"large\"\n                                        icon=\"key\"\n                                        iconPosition=\"left\"\n                                        placeholder=\"Contraseña\"\n                                        name=\"contrasena\"\n                                        onChange={handleChange}\n                                        value={stateUser.contrasena}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Modal.Description>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button\n                        style={{\n                            borderRadius: \"0.4rem\",\n                            margin: \"0% 2% 0% 0%\",\n                        }}\n                        color=\"red\"\n                        inverted\n                        onClick={() => {\n                            props.closeModal();\n                            setState({ open: false });\n                            handleRestablecer();\n                        }}\n                    >\n                        <Icon name=\"cancel\" /> Cancelar\n                    </Button>\n\n                    <Button\n                        style={{\n                            borderRadius: \"0.4rem\",\n                            margin: \"0% 1% 0% 0%\",\n                        }}\n                        color=\"green\"\n                        inverted\n                        onClick={async () => {\n                            if (\n                                stateUser.nombre &&\n                                stateUser.apellidos &&\n                                stateUser.correo &&\n                                stateUser.telefono &&\n                                stateUser.rol &&\n                                stateUser.contrasena\n                            ) {\n                                if (!validateEmail(stateUser.correo)) {\n                                    setMessage(\n                                        \"El correo ingresado no es correcto\"\n                                    );\n                                    setSuccess(false);\n                                } else {\n                                    var success;\n                                    if (props.userID) {\n                                        success = await  updateUser(\n                                            props.userID,\n                                            stateUser,\n                                            props.modifyUser\n                                        );\n                                        setSuccess(success);\n                                        if (success) {\n                                            setMessage(\n                                                \"Actualizacion de datos del usuario exitosa!\"\n                                            );\n                                        } else {\n                                            setMessage(\n                                                \"Ha ocurrido un error al actualizar el usuario! Verifique que el correo sea unico.\"\n                                            );\n                                        }\n                                        \n                                    } else {\n                                        success = await createUser(stateUser, props.addUser);\n                                        setSuccess(success);\n    \n                                        if (success) {\n                                            setMessage(\n                                                \"Se ha creado el usuario de manera exitosa!\"\n                                            );\n                                        } else {\n                                            setMessage(\n                                                \"Ha ocurrido un error al crear el usuario! Verifique que el correo sea unico.\"\n                                            );\n                                        }\n                                    }\n                                }\n                            \n                                // Funcion de insertar nuevo usuario\n                            } else {\n                                setMessage(\n                                    \"Debe llenar todos los campos para que el registro sea exitoso\"\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetSuccess(false);\n                            }\n\n                            setSecondOpen(true);\n                        }}\n                    >\n                        <Icon name=\"checkmark\" />{\" \"}\n                        {props.userID ? \"Guardar\" : \"Registrar\"}\n                    </Button>\n                </Modal.Actions>\n                <Modal\n                    onClose={() => setSecondOpen(false)}\n                    open={secondOpen}\n                    size=\"small\"\n                >\n                    <Modal.Header>Registro de usuario</Modal.Header>\n                    <Modal.Content>\n                        <p>{message}</p>\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Button\n                            style={{\n                                borderRadius: \"0.4rem\",\n                                margin: \"0% 2% 0% 0%\",\n                            }}\n                            color=\"red\"\n                            inverted\n                            onClick={() => {\n\t\t\t\t\t\t\t\tsetSecondOpen(false);\n\t\t\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\t\t\thandleRestablecer();\n\t\t\t\t\t\t\t\t\tsetState({open: false});\n\t\t\t\t\t\t\t\t\tprops.closeModal();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n                        >\n                            <Icon name=\"cancel\" /> Cerrar\n                        </Button>\n                    </Modal.Actions>\n                </Modal>\n            </Modal>\n        </div>\n    );\n}\n\nexport default ModalAdmin;\n"]},"metadata":{},"sourceType":"module"}