{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/Consulta/Consulta.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./Styles/Consulta.css\";\nimport Filtros from \"./Subcomponentes/Filtros/Filtros\";\nimport GridConsulta from \"./Subcomponentes/Grid/GridConsulta\";\nimport ModalConsulta from \"./Subcomponentes/ModalConsulta\"; //var toSentenceCase = require('to-sentence-case')\n\nclass Consulta extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tarjeta: \"General\",\n      keyword: \"\",\n      filtroPorKeyWord: \"nombreRescatado\",\n      ordenarPor: \"nombreRescatado\",\n      ordenarDeMenorAMayor: true,\n      genero: \"\",\n      especie: {\n        canino: \"\",\n        felino: \"\",\n        otro: \"\"\n      },\n      estatus: {\n        activo: \"\",\n        fallecido: \"\",\n        enTratamiento: \"\",\n        adoptado: \"\"\n      },\n      vacunas: {\n        vacuna1: \"\",\n        vacuna2: \"\",\n        vacuna3: \"\",\n        vacuna4: \"\",\n        vacuna5: \"\"\n      },\n      esterilizado: \"\",\n      diagnostico: {\n        atropellamiento: \"\",\n        tvt: \"\",\n        sarnaPiel: \"\",\n        viral: \"\",\n        embarazo: \"\",\n        cachorros: \"\",\n        hemoparasitos: \"\",\n        otro: \"\"\n      },\n      tipoHogar: \"\",\n      rangoFechaHT: {\n        fechaInicioHT: null,\n        fechaFinalHT: null\n      },\n      medioAdopcion: {\n        instagram: \"\",\n        facebook: \"\",\n        petco: \"\",\n        referencia: \"\",\n        otro: \"\"\n      },\n      rangoFechaAdopcion: {\n        fechaInicioAdop: null,\n        fechaFinalAdop: null\n      },\n      //Modal\n      open: false,\n      id: null,\n      fotoModal: null\n    };\n\n    this.handleOptionsReceived = (filter, itemsSelected, replaceValue) => {\n      if (!itemsSelected) return filter;\n      itemsSelected.forEach(item => {\n        filter[item.value] = replaceValue;\n      });\n      return filter;\n    };\n\n    this.handleClear = filter => {\n      for (const element in filter) {\n        filter[element] = \"\";\n      }\n\n      return filter;\n    };\n\n    this.handleList = (selectedOption, action, id, esMultiSelect) => {\n      if (action.action === \"select-option\") {\n        if (esMultiSelect) {\n          this.setState({\n            [id]: this.handleOptionsReceived(this.state[id], selectedOption, \"1\")\n          });\n        } else {\n          this.setState({\n            [id]: selectedOption[0].value\n          });\n        }\n      } else if (action.action === \"remove-value\") {\n        if (esMultiSelect) {\n          this.setState(Object.assign(this.state[id], {\n            [action.removedValue.value]: \"\"\n          }));\n        } else {\n          this.setState({\n            [id]: \"\"\n          });\n        }\n      } else if (action.action === \"clear\") {\n        if (esMultiSelect) {\n          this.setState({\n            [id]: this.handleClear(this.state[id])\n          });\n        } else {\n          this.setState({\n            [id]: \"\"\n          });\n        }\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleFiltroRegistros = registroSeleccionado => {\n      this.setState({\n        tarjeta: registroSeleccionado\n      });\n    };\n\n    this.handleKeyWord = value => {\n      this.setState({\n        keyword: value\n      });\n    };\n\n    this.concatAddress = (calle, numero, colonia, municipio) => {\n      var direccion = \"\";\n      if (calle && calle.length) direccion += calle;\n      if (numero && numero.length && calle && calle.length) direccion += \" #\" + numero;\n      if (colonia && colonia.length) direccion += (direccion.length ? \", \" : \"\") + colonia;\n      direccion += (direccion && direccion.length ? \", \" : \"\") + municipio + \".\";\n      return direccion !== \".\" ? direccion : \"No hay Informaci贸n\";\n    };\n\n    this.handleOrdenarToggle = () => {\n      this.setState({\n        ordenarDeMenorAMayor: !this.state.ordenarDeMenorAMayor\n      });\n    };\n\n    this.formatDate = date => {\n      if (!date || date === \"0000-00-00\") return \"No hay Informaci贸n\";\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      return [day, month, year].join(\"-\");\n    };\n\n    this.handleDate = (fecha, filterName, dateName) => {\n      this.setState(Object.assign(this.state[filterName], {\n        [dateName]: fecha\n      }));\n    };\n\n    this.onChangeDropdown = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({ ...this.state,\n        open: false\n      });\n    };\n\n    this.openModal = () => {\n      this.setState({ ...this.state,\n        open: true\n      });\n    };\n\n    this.setID = (id, foto) => {\n      if (foto) {\n        var buffer = Buffer.from(foto.data);\n        foto = buffer.toString(\"utf8\");\n        this.setState({ ...this.state,\n          id: id,\n          fotoModal: foto\n        });\n      } else {\n        this.setState({ ...this.state,\n          id: id,\n          fotoModal: null\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"consulta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 4\n      }\n    }, this.state.open ? /*#__PURE__*/React.createElement(ModalConsulta, {\n      closeModal: this.closeModal,\n      id: this.state.id,\n      fotoModal: this.state.fotoModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 6\n      }\n    }) : null, /*#__PURE__*/React.createElement(Filtros, {\n      filtros: this.state,\n      handleFiltroRegistros: this.handleFiltroRegistros,\n      handleList: this.handleList,\n      handleKeyWord: this.handleKeyWord,\n      handleOrdenarToggle: this.handleOrdenarToggle,\n      handleDate: this.handleDate,\n      onChangeDropdown: this.onChangeDropdown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(GridConsulta, {\n      className: \"gridConsulta\",\n      tarjeta: this.state.tarjeta,\n      concatAddress: this.concatAddress,\n      filtros: this.state,\n      formatDate: this.formatDate,\n      openModal: this.openModal,\n      setID: this.setID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(Consulta);","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/Consulta/Consulta.js"],"names":["React","Component","withRouter","Filtros","GridConsulta","ModalConsulta","Consulta","state","tarjeta","keyword","filtroPorKeyWord","ordenarPor","ordenarDeMenorAMayor","genero","especie","canino","felino","otro","estatus","activo","fallecido","enTratamiento","adoptado","vacunas","vacuna1","vacuna2","vacuna3","vacuna4","vacuna5","esterilizado","diagnostico","atropellamiento","tvt","sarnaPiel","viral","embarazo","cachorros","hemoparasitos","tipoHogar","rangoFechaHT","fechaInicioHT","fechaFinalHT","medioAdopcion","instagram","facebook","petco","referencia","rangoFechaAdopcion","fechaInicioAdop","fechaFinalAdop","open","id","fotoModal","handleOptionsReceived","filter","itemsSelected","replaceValue","forEach","item","value","handleClear","element","handleList","selectedOption","action","esMultiSelect","setState","Object","assign","removedValue","handleChange","event","target","name","handleFiltroRegistros","registroSeleccionado","handleKeyWord","concatAddress","calle","numero","colonia","municipio","direccion","length","handleOrdenarToggle","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","handleDate","fecha","filterName","dateName","onChangeDropdown","closeModal","openModal","setID","foto","buffer","Buffer","from","data","toString","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./Styles/Consulta.css\";\nimport Filtros from \"./Subcomponentes/Filtros/Filtros\";\nimport GridConsulta from \"./Subcomponentes/Grid/GridConsulta\";\nimport ModalConsulta from \"./Subcomponentes/ModalConsulta\";\n\n//var toSentenceCase = require('to-sentence-case')\nclass Consulta extends Component {\n\tstate = {\n\t\ttarjeta: \"General\",\n\t\tkeyword: \"\",\n\t\tfiltroPorKeyWord: \"nombreRescatado\",\n\t\tordenarPor: \"nombreRescatado\",\n\t\tordenarDeMenorAMayor: true,\n\t\tgenero: \"\",\n\t\tespecie: {\n\t\t\tcanino: \"\",\n\t\t\tfelino: \"\",\n\t\t\totro: \"\",\n\t\t},\n\t\testatus: {\n\t\t\tactivo: \"\",\n\t\t\tfallecido: \"\",\n\t\t\tenTratamiento: \"\",\n\t\t\tadoptado: \"\",\n\t\t},\n\t\tvacunas: {\n\t\t\tvacuna1: \"\",\n\t\t\tvacuna2: \"\",\n\t\t\tvacuna3: \"\",\n\t\t\tvacuna4: \"\",\n\t\t\tvacuna5: \"\",\n\t\t},\n\t\testerilizado: \"\",\n\t\tdiagnostico: {\n\t\t\tatropellamiento: \"\",\n\t\t\ttvt: \"\",\n\t\t\tsarnaPiel: \"\",\n\t\t\tviral: \"\",\n\t\t\tembarazo: \"\",\n\t\t\tcachorros: \"\",\n\t\t\themoparasitos: \"\",\n\t\t\totro: \"\",\n\t\t},\n\t\ttipoHogar: \"\",\n\t\trangoFechaHT: {\n\t\t\tfechaInicioHT: null,\n\t\t\tfechaFinalHT: null,\n\t\t},\n\t\tmedioAdopcion: {\n\t\t\tinstagram: \"\",\n\t\t\tfacebook: \"\",\n\t\t\tpetco: \"\",\n\t\t\treferencia: \"\",\n\t\t\totro: \"\",\n\t\t},\n\t\trangoFechaAdopcion: {\n\t\t\tfechaInicioAdop: null,\n\t\t\tfechaFinalAdop: null,\n\t\t},\n\n\t\t//Modal\n\t\topen: false,\n\t\tid: null,\n\t\tfotoModal: null,\n\t};\n\n\thandleOptionsReceived = (filter, itemsSelected, replaceValue) => {\n\t\tif (!itemsSelected) return filter;\n\t\titemsSelected.forEach((item) => {\n\t\t\tfilter[item.value] = replaceValue;\n\t\t});\n\n\t\treturn filter;\n\t};\n\n\thandleClear = (filter) => {\n\t\tfor (const element in filter) {\n\t\t\tfilter[element] = \"\";\n\t\t}\n\t\treturn filter;\n\t};\n\n\thandleList = (selectedOption, action, id, esMultiSelect) => {\n\t\tif (action.action === \"select-option\") {\n\t\t\tif (esMultiSelect) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[id]: this.handleOptionsReceived(\n\t\t\t\t\t\tthis.state[id],\n\t\t\t\t\t\tselectedOption,\n\t\t\t\t\t\t\"1\"\n\t\t\t\t\t),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[id]: selectedOption[0].value,\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (action.action === \"remove-value\") {\n\t\t\tif (esMultiSelect) {\n\t\t\t\tthis.setState(\n\t\t\t\t\tObject.assign(this.state[id], {\n\t\t\t\t\t\t[action.removedValue.value]: \"\",\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[id]: \"\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (action.action === \"clear\") {\n\t\t\tif (esMultiSelect) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[id]: this.handleClear(this.state[id]),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[id]: \"\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value,\n\t\t});\n\t};\n\n\thandleFiltroRegistros = (registroSeleccionado) => {\n\t\tthis.setState({\n\t\t\ttarjeta: registroSeleccionado,\n\t\t});\n\t};\n\n\thandleKeyWord = (value) => {\n\t\tthis.setState({\n\t\t\tkeyword: value,\n\t\t});\n\t};\n\n\tconcatAddress = (calle, numero, colonia, municipio) => {\n\t\tvar direccion = \"\";\n\t\tif (calle && calle.length) direccion += calle;\n\t\tif (numero && numero.length && calle && calle.length)\n\t\t\tdireccion += \" #\" + numero;\n\t\tif (colonia && colonia.length)\n\t\t\tdireccion += (direccion.length ? \", \" : \"\") + colonia;\n\t\tdireccion +=\n\t\t\t(direccion && direccion.length ? \", \" : \"\") + municipio + \".\";\n\t\treturn direccion !== \".\" ? direccion : \"No hay Informaci贸n\";\n\t};\n\n\thandleOrdenarToggle = () => {\n\t\tthis.setState({\n\t\t\tordenarDeMenorAMayor: !this.state.ordenarDeMenorAMayor,\n\t\t});\n\t};\n\n\tformatDate = (date) => {\n\t\tif (!date || date === \"0000-00-00\") return \"No hay Informaci贸n\";\n\t\tvar d = new Date(date),\n\t\t\tmonth = \"\" + (d.getMonth() + 1),\n\t\t\tday = \"\" + d.getDate(),\n\t\t\tyear = d.getFullYear();\n\n\t\tif (month.length < 2) month = \"0\" + month;\n\t\tif (day.length < 2) day = \"0\" + day;\n\n\t\treturn [day, month, year].join(\"-\");\n\t};\n\n\thandleDate = (fecha, filterName, dateName) => {\n\t\tthis.setState(\n\t\t\tObject.assign(this.state[filterName], {\n\t\t\t\t[dateName]: fecha,\n\t\t\t})\n\t\t);\n\t};\n\n\tonChangeDropdown = (name, value) => {\n\t\tthis.setState({\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tcloseModal = () => {\n\t\tthis.setState({ ...this.state, open: false });\n\t};\n\n\topenModal = () => {\n\t\tthis.setState({ ...this.state, open: true });\n\t};\n\n\tsetID = (id, foto) => {\n\t\tif (foto) {\n\t\t\tvar buffer = Buffer.from(foto.data);\n\t\t\tfoto = buffer.toString(\"utf8\");\n\t\t\tthis.setState({ ...this.state, id: id, fotoModal: foto });\n\t\t} else {\n\t\t\tthis.setState({ ...this.state, id: id, fotoModal: null });\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\n\t\t\t<div className=\"consulta\">\n\t\t\t\t{this.state.open ? (\n\t\t\t\t\t<ModalConsulta\n\t\t\t\t\t\tcloseModal={this.closeModal}\n\t\t\t\t\t\tid={this.state.id}\n\t\t\t\t\t\tfotoModal={this.state.fotoModal}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n    <Filtros\n\t\t\t\t\tfiltros={this.state}\n\t\t\t\t\thandleFiltroRegistros={this.handleFiltroRegistros}\n\t\t\t\t\thandleList={this.handleList}\n\t\t\t\t\thandleKeyWord={this.handleKeyWord}\n\t\t\t\t\thandleOrdenarToggle={this.handleOrdenarToggle}\n\t\t\t\t\thandleDate={this.handleDate}\n\t\t\t\t\tonChangeDropdown={this.onChangeDropdown}\n\t\t\t\t/>\n\n\t\t\t\t<GridConsulta\n\t\t\t\t\tclassName=\"gridConsulta\"\n\t\t\t\t\ttarjeta={this.state.tarjeta}\n\t\t\t\t\tconcatAddress={this.concatAddress}\n\t\t\t\t\tfiltros={this.state}\n\t\t\t\t\tformatDate={this.formatDate}\n\t\t\t\t\topenModal={this.openModal}\n\t\t\t\t\tsetID={this.setID}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Consulta);\n"]},"metadata":{},"sourceType":"module"}