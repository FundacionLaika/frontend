{"ast":null,"code":"var _jsxFileName = \"/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/MenuUsuario.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Styles/MenuUsuario.css\";\nimport { withRouter } from \"react-router-dom\";\nimport UserInfo from \"./Subcomponents/UserInfo\";\nimport SecurityInfo from \"./Subcomponents/SecurityInfo\";\nimport AdminInfo from \"./Subcomponents/AdminInfo\";\nimport api from \"../SharedComponents/APIConfig\";\n\nasync function fetchUser(ID_Usuario) {\n  var response = await fetch(api.url + \"/usuario\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ID_Usuario\n    })\n  });\n  if (response.status !== 200) return null;\n  var json = await response.json();\n  return json;\n}\n\nfunction MenuUsuario(props) {\n  const [state, setState] = useState({\n    nombre: \"\",\n    apellidos: \"\",\n    correo: \"\",\n    telefono: \"\",\n    rol: \"\",\n    foto: null\n  });\n  const [borderState, setBorderState] = useState({\n    btnGeneral: \"3px solid #00acee\",\n    btnSeguridad: \"\",\n    btnAdmin: \"\"\n  });\n  const [foregroundState, setForegroundState] = useState({\n    btnGeneral: \"#000\",\n    btnSeguridad: \"\",\n    btnAdmin: \"\"\n  });\n  const history = useHistory();\n\n  function logoutSession() {\n    sessionStorage.clear();\n    window.location.reload();\n    history.push(\"/\");\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      const userData = await fetchUser(props.ID_Usuario);\n      if (!userData) return;\n      var foto = null;\n\n      if (userData && userData.Foto) {\n        var buffer = Buffer.from(userData.Foto.data);\n        foto = buffer.toString(\"utf8\");\n      }\n\n      setState({\n        nombre: userData.Nombre,\n        apellidos: userData.Apellidos,\n        correo: userData.Correo,\n        telefono: userData.Telefono,\n        rol: userData.Rol,\n        foto: foto\n      });\n    }\n\n    fetchData();\n  }, [props]);\n\n  function handleClick(name) {\n    setBorderState({\n      [name]: \"3px solid #00acee\"\n    });\n    setForegroundState({\n      [name]: \"#000\"\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menuUsuarioContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnGeneral\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnGeneral\n    },\n    className: \"fa fa-address-card fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnGeneral,\n      color: foregroundState.btnGeneral\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"General\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnSeguridad\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnSeguridad\n    },\n    className: \"fa fa-lock fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnSeguridad,\n      color: foregroundState.btnSeguridad\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Seguridad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }))), state.rol === \"Administrador\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock\",\n    onClick: () => {\n      handleClick(\"btnAdmin\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 38\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: foregroundState.btnAdmin\n    },\n    className: \"fa fa-address-book fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      borderRight: borderState.btnAdmin,\n      color: foregroundState.btnAdmin\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Administraci\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBlock btnLogout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: \"red\"\n    },\n    className: \"fa fa-sign-out fa-2x iconUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideBarBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoComplete: \"off\",\n    style: {\n      color: \"red\"\n    },\n    type: \"button\",\n    className: \"btnMenuUsuario\",\n    value: \"Log out\",\n    onClick: logoutSession,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 8\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dataUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 4\n    }\n  }, foregroundState.btnGeneral && /*#__PURE__*/React.createElement(UserInfo, {\n    ID_Usuario: props.ID_Usuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 6\n    }\n  }), foregroundState.btnSeguridad && /*#__PURE__*/React.createElement(SecurityInfo, {\n    ID_Usuario: props.ID_Usuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 6\n    }\n  }), foregroundState.btnAdmin && /*#__PURE__*/React.createElement(AdminInfo, {\n    ID_Usuario: props.ID_Usuario,\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 6\n    }\n  })));\n}\n\nexport default withRouter(MenuUsuario);","map":{"version":3,"sources":["/home/agus/Desktop/PROJECTS/LAIKA/frontend/src/Components/MenuUsuario/MenuUsuario.js"],"names":["React","useState","useEffect","useHistory","withRouter","UserInfo","SecurityInfo","AdminInfo","api","fetchUser","ID_Usuario","response","fetch","url","method","headers","body","JSON","stringify","status","json","MenuUsuario","props","state","setState","nombre","apellidos","correo","telefono","rol","foto","borderState","setBorderState","btnGeneral","btnSeguridad","btnAdmin","foregroundState","setForegroundState","history","logoutSession","sessionStorage","clear","window","location","reload","push","fetchData","userData","Foto","buffer","Buffer","from","data","toString","Nombre","Apellidos","Correo","Telefono","Rol","handleClick","name","color","borderRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Styles/MenuUsuario.css\";\nimport { withRouter } from \"react-router-dom\";\nimport UserInfo from \"./Subcomponents/UserInfo\";\nimport SecurityInfo from \"./Subcomponents/SecurityInfo\";\nimport AdminInfo from \"./Subcomponents/AdminInfo\";\nimport api from \"../SharedComponents/APIConfig\";\n\n\nasync function fetchUser(ID_Usuario) {\n\tvar response = await fetch(api.url+\"/usuario\", {\n\t\tmethod: \"post\",\n\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\tbody: JSON.stringify({ ID_Usuario }),\n\t});\n\n\tif (response.status !== 200) return null;\n\tvar json = await response.json();\n\n\treturn json;\n}\n\nfunction MenuUsuario(props) {\n\tconst [state, setState] = useState({\n\t\tnombre: \"\",\n\t\tapellidos: \"\",\n\t\tcorreo: \"\",\n\t\ttelefono: \"\",\n\t\trol: \"\",\n\t\tfoto: null,\n\t});\n\n\tconst [borderState, setBorderState] = useState({\n\t\tbtnGeneral: \"3px solid #00acee\",\n\t\tbtnSeguridad: \"\",\n\t\tbtnAdmin: \"\",\n\t});\n\n\tconst [foregroundState, setForegroundState] = useState({\n\t\tbtnGeneral: \"#000\",\n\t\tbtnSeguridad: \"\",\n\t\tbtnAdmin: \"\",\n\t});\n\n\tconst history = useHistory();\n\n\tfunction logoutSession () {\n\t\tsessionStorage.clear();\n\t\twindow.location.reload();\n\t\thistory.push(\"/\");\n\t}\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst userData = await fetchUser(props.ID_Usuario);\n\t\t\tif (!userData) return;\n\n\t\t\tvar foto = null;\n\t\t\tif (userData && userData.Foto) {\n\t\t\t\tvar buffer = Buffer.from(userData.Foto.data);\n\t\t\t\tfoto = buffer.toString(\"utf8\");\n\t\t\t}\n\n\t\t\tsetState({\n\t\t\t\tnombre: userData.Nombre,\n\t\t\t\tapellidos: userData.Apellidos,\n\t\t\t\tcorreo: userData.Correo,\n\t\t\t\ttelefono: userData.Telefono,\n\t\t\t\trol: userData.Rol,\n\t\t\t\tfoto: foto,\n\t\t\t});\n\t\t}\n\t\tfetchData();\n\t}, [props]);\n\n\tfunction handleClick(name) {\n\t\tsetBorderState({ [name]: \"3px solid #00acee\" });\n\t\tsetForegroundState({ [name]: \"#000\" });\n\t}\n\n\treturn (\n\t\t<div className=\"menuUsuarioContainer\">\n\t\t\t<div className=\"sideBarContainer\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"sideBarBlock\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleClick(\"btnGeneral\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"sideBarIcon\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tstyle={{ color: foregroundState.btnGeneral }}\n\t\t\t\t\t\t\tclassName=\"fa fa-address-card fa-2x iconUsuario\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sideBarBtn\">\n\t\t\t\t\t\t<input autoComplete=\"off\"\n\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRight: borderState.btnGeneral,\n\t\t\t\t\t\t\t\tcolor: foregroundState.btnGeneral,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btnMenuUsuario\"\n\t\t\t\t\t\t\tvalue=\"General\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"sideBarBlock\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleClick(\"btnSeguridad\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"sideBarIcon\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tstyle={{ color: foregroundState.btnSeguridad }}\n\t\t\t\t\t\t\tclassName=\"fa fa-lock fa-2x iconUsuario\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sideBarBtn\">\n\t\t\t\t\t\t<input autoComplete=\"off\"\n\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRight: borderState.btnSeguridad,\n\t\t\t\t\t\t\t\tcolor: foregroundState.btnSeguridad,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btnMenuUsuario\"\n\t\t\t\t\t\t\tvalue=\"Seguridad\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{state.rol === \"Administrador\" ? <div\n\t\t\t\t\tclassName=\"sideBarBlock\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleClick(\"btnAdmin\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"sideBarIcon\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tstyle={{ color: foregroundState.btnAdmin }}\n\t\t\t\t\t\t\tclassName=\"fa fa-address-book fa-2x iconUsuario\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sideBarBtn\">\n\t\t\t\t\t\t<input autoComplete=\"off\"\n\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderRight: borderState.btnAdmin,\n\t\t\t\t\t\t\t\tcolor: foregroundState.btnAdmin,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btnMenuUsuario\"\n\t\t\t\t\t\t\tvalue=\"Administración\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>: null}\n\n\n\t\t\t\t\t<div className=\"sideBarBlock btnLogout\">\n\t\t\t\t\t\t<div className=\"sideBarIcon\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tstyle={{ color: \"red\" }}\n\t\t\t\t\t\t\t\tclassName=\"fa fa-sign-out fa-2x iconUsuario\"\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sideBarBtn\">\n\t\t\t\t\t\t\t<input autoComplete=\"off\"\n\n\t\t\t\t\t\t\t\tstyle={{ color: \"red\" }}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btnMenuUsuario\"\n\t\t\t\t\t\t\t\tvalue=\"Log out\"\n\t\t\t\t\t\t\t\tonClick={logoutSession}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"dataUsuario\">\n\t\t\t\t{foregroundState.btnGeneral && (\n\t\t\t\t\t<UserInfo ID_Usuario={props.ID_Usuario} />\n\t\t\t\t)}\n\t\t\t\t{foregroundState.btnSeguridad && (\n\t\t\t\t\t<SecurityInfo ID_Usuario={props.ID_Usuario} />\n\t\t\t\t)}\n\t\t\t\t{foregroundState.btnAdmin && (\n\t\t\t\t\t<AdminInfo ID_Usuario={props.ID_Usuario} state={state} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(MenuUsuario);\n"]},"metadata":{},"sourceType":"module"}